<script>
    // Nếu trang này được tải trực tiếp (không có #main-content),
    // hãy chuyển hướng về trang chủ với đường dẫn chính xác.
    if (!window.top.document.getElementById('main-content')) {
        window.top.location.href = `/?path=${window.location.pathname}`;
    }
</script>
<!-- POST START -->
<div class="box">
    <div class="right">
        <h3>blog post generator</h3>
        <p>Điền vào các trường dưới đây để tạo mã HTML cho bài viết mới của bạn.</p>
        <hr>
        <form id="blog-generator-form">
            <label for="post-title">Tiêu đề bài viết:</label>
            <input type="text" id="post-title" required placeholder="Bài viết đầu tiên">

            <label for="post-date">Ngày đăng:</label>
            <div class="input-with-button">
                <input type="text" id="post-date" required readonly placeholder="01/01/2025">
                <input type="date" id="date-picker" class="date-button">
            </div>

            <label for="post-time">Giờ đăng:</label>
            <div class="input-with-button">
                <input type="text" id="post-time" required readonly placeholder="14:00">
                <input type="time" id="time-picker" class="time-button">
            </div>

            <!-- Filename sẽ được tự động tạo từ tiêu đề -->
            <input type="hidden" id="post-filename">

            <label for="post-summary">Tóm tắt (hiển thị trên trang blog chính):</label>
            <textarea id="post-summary" rows="3" required placeholder="Đây là tóm tắt ngắn..."></textarea>

            <label for="post-content">Nội dung đầy đủ (hỗ trợ HTML):</label>
            <textarea id="post-content" rows="8" required placeholder="Đây là nội dung đầy đủ của bài viết. Ví dụ: <p>...</p>"></textarea>

            <button type="submit">Tạo mã</button>
        </form>
        
        <div id="generator-output" hidden>
            <hr>
            <h4>Mã cho trang <code>blog.html</code>:</h4>
            <p>Dán đoạn mã này vào cuối tệp <code>blog.html</code> (trước bài viết cũ hơn).</p>
            <div class="code-container">
                <button class="copy-btn" data-target-id="output-for-blog-page" title="Sao chép mã">Copy</button>
                <pre><code id="output-for-blog-page" class="language-html"></code></pre>
            </div>
            <hr>
            <h4>Mã cho tệp bài viết mới (<code>/blogposts/<span id="output-filename"></span>.html</code>):</h4>
            <p>Tạo một tệp mới với tên ở trên và dán nội dung này vào.</p>
            <div class="code-container">
                <button class="copy-btn" data-target-id="output-for-post-file" title="Sao chép mã">Copy</button>
                <pre><code id="output-for-post-file" class="language-html"></code></pre>
            </div>
        </div>
    </div>
</div>
<!-- POST END -->
